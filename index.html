<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üßü –ü—Ä–æ–∫–ª—è—Ç–∏–µ –ó–æ–º–±–∏-–§–µ—Ä–º—ã</title>
    <meta name="description" content="Telegram Mini App - —É–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã–π –∫–≤–µ—Å—Ç –ø–æ —Å–ø–∞—Å–µ–Ω–∏—é —Ñ–µ—Ä–º—ã –æ—Ç –∑–æ–º–±–∏">
    
    <!-- Telegram Web App -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    
    <!-- –°—Ç–∏–ª–∏ -->
    <link rel="stylesheet" href="style.css">
    
    <!-- PWA -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#667eea">
    
    <!-- –®—Ä–∏—Ñ—Ç—ã -->
    <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="app">
        <!-- –≠–∫—Ä–∞–Ω –∑–∞–≥—Ä—É–∑–∫–∏ -->
        <div id="loading-screen" class="screen active">
            <div class="loading-container">
                <div class="zombie-loader">
                    <div class="zombie-face">üßü</div>
                    <div class="loading-pulse"></div>
                </div>
                <h2>–ó–∞–≥—Ä—É–∂–∞–µ–º —Ñ–µ—Ä–º—É...</h2>
                <div class="progress-bar">
                    <div class="progress-fill" id="loading-progress"></div>
                </div>
                <p class="loading-tip" id="loading-tip">–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏—é...</p>
            </div>
        </div>

        <!-- –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é -->
        <div id="main-menu" class="screen">
            <div class="menu-background">
                <div class="floating-animals">
                    <div class="animal">üêî</div>
                    <div class="animal">üêÆ</div>
                    <div class="animal">ü¶¢</div>
                    <div class="animal">üêë</div>
                </div>
            </div>
            
            <div class="menu-container">
                <header class="menu-header">
                    <h1 class="game-title">üßü –ü–†–û–ö–õ–Ø–¢–ò–ï<br>–ó–û–ú–ë–ò-–§–ï–†–ú–´</h1>
                    <p class="game-subtitle">–§–µ—Ä–º–∞ –≤ –æ–ø–∞—Å–Ω–æ—Å—Ç–∏! –¢–æ–ª—å–∫–æ —Ç—ã –º–æ–∂–µ—à—å –µ—ë —Å–ø–∞—Å—Ç–∏!</p>
                </header>
                
                <div class="player-card">
                    <div class="player-avatar">
                        <span id="player-emoji">üë®‚Äçüåæ</span>
                    </div>
                    <div class="player-info">
                        <h3 id="player-name">–§–µ—Ä–º–µ—Ä</h3>
                        <div class="player-stats">
                            <span>üèÜ <span id="player-best-score">0</span></span>
                            <span>‚≠ê –£—Ä–æ–≤–µ–Ω—å <span id="player-level">1</span></span>
                        </div>
                    </div>
                </div>

                <div class="menu-buttons">
                    <button id="start-game" class="btn btn-primary btn-large">
                        <span class="btn-icon">üéÆ</span>
                        –ù–ê–ß–ê–¢–¨ –ò–ì–†–£
                    </button>
                    <button id="continue-game" class="btn btn-secondary btn-large">
                        <span class="btn-icon">‚û°Ô∏è</span>
                        –ü–†–û–î–û–õ–ñ–ò–¢–¨
                    </button>
                    <button id="how-to-play" class="btn btn-outline">
                        <span class="btn-icon">üìö</span>
                        –ö–ê–ö –ò–ì–†–ê–¢–¨
                    </button>
                    <div class="buttons-row">
                        <button id="leaderboard" class="btn btn-outline">
                            <span class="btn-icon">üèÜ</span>
                            –†–ï–ô–¢–ò–ù–ì
                        </button>
                        <button id="achievements" class="btn btn-outline">
                            <span class="btn-icon">üéØ</span>
                            –î–û–°–¢–ò–ñ–ï–ù–ò–Ø
                        </button>
                    </div>
                </div>

                <div class="menu-footer">
                    <div class="daily-bonus">
                        <span class="bonus-icon">üéÅ</span>
                        –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –±–æ–Ω—É—Å –¥–æ—Å—Ç—É–ø–µ–Ω!
                    </div>
                </div>
            </div>
        </div>

        <!-- –ò–≥—Ä–æ–≤–æ–π —ç–∫—Ä–∞–Ω -->
        <div id="game-screen" class="screen">
            <div class="game-header">
                <div class="header-left">
                    <button id="pause-btn" class="btn btn-icon" title="–ü–∞—É–∑–∞">
                        ‚è∏Ô∏è
                    </button>
                    <div class="player-mini">
                        <span id="mini-player-emoji">üë®‚Äçüåæ</span>
                        <span id="mini-player-name">–§–µ—Ä–º–µ—Ä</span>
                    </div>
                </div>
                
                <div class="game-stats-bar">
                    <div class="stat-item">
                        <span class="stat-icon">üéØ</span>
                        <span id="current-stage-display">1/13</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-icon">üèÜ</span>
                        <span id="score-display">0</span>
                    </div>
                    <div class="stat-item timer-container">
                        <span class="stat-icon">‚è±Ô∏è</span>
                        <span id="timer-display">45:00</span>
                    </div>
                </div>

                <div class="header-right">
                    <div class="lives-container">
                        <span class="heart">‚ù§Ô∏è</span>
                        <span id="lives-count">3</span>
                    </div>
                </div>
            </div>

            <div class="game-content">
                <!-- –ü—Ä–æ–≥—Ä–µ—Å—Å —ç—Ç–∞–ø–æ–≤ -->
                <div class="stages-progress">
                    <div class="progress-bar">
                        <div class="progress-fill" id="stage-progress-bar"></div>
                    </div>
                    <div class="stages-labels">
                        <span>–≠—Ç–∞–ø 1</span>
                        <span>–≠—Ç–∞–ø 7</span>
                        <span>–≠—Ç–∞–ø 13</span>
                    </div>
                </div>

                <!-- –ö–æ–Ω—Ç–µ–Ω—Ç —ç—Ç–∞–ø–∞ -->
                <div id="stage-content" class="stage-content">
                    <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è -->
                </div>

                <!-- –ü–æ–¥—Å–∫–∞–∑–∫–∏ –∏ –ø–æ–º–æ—â—å -->
                <div class="help-section">
                    <button id="hint-btn" class="btn btn-outline btn-small">
                        üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞ (<span id="hints-left">3</span>)
                    </button>
                    <button id="skip-btn" class="btn btn-outline btn-small">
                        ‚è© –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å (<span id="skips-left">1</span>)
                    </button>
                </div>
            </div>

            <!-- –ù–∏–∂–Ω—è—è –ø–∞–Ω–µ–ª—å –¥–µ–π—Å—Ç–≤–∏–π -->
            <div class="action-panel">
                <div class="input-container">
                    <input type="text" 
                           id="answer-input" 
                           placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à –æ—Ç–≤–µ—Ç..."
                           maxlength="50">
                    <button id="submit-answer" class="btn btn-primary">
                        –ü–†–û–í–ï–†–ò–¢–¨
                    </button>
                </div>
            </div>
        </div>

        <!-- –≠–∫—Ä–∞–Ω –ø–∞—É–∑—ã -->
        <div id="pause-screen" class="screen overlay">
            <div class="pause-container">
                <div class="pause-header">
                    <h2>‚è∏Ô∏è –ü–ê–£–ó–ê</h2>
                    <p>–ò–≥—Ä–∞ –ø—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞</p>
                </div>
                
                <div class="pause-stats">
                    <div class="stat-card">
                        <span class="stat-value" id="pause-stage">1/13</span>
                        <span class="stat-label">–≠—Ç–∞–ø—ã</span>
                    </div>
                    <div class="stat-card">
                        <span class="stat-value" id="pause-score">0</span>
                        <span class="stat-label">–û—á–∫–∏</span>
                    </div>
                    <div class="stat-card">
                        <span class="stat-value" id="pause-time">45:00</span>
                        <span class="stat-label">–í—Ä–µ–º—è</span>
                    </div>
                </div>

                <div class="pause-buttons">
                    <button id="resume-game" class="btn btn-primary btn-large">
                        ‚ñ∂Ô∏è –ü–†–û–î–û–õ–ñ–ò–¢–¨
                    </button>
                    <button id="restart-game" class="btn btn-outline">
                        üîÑ –ó–ê–ù–û–í–û
                    </button>
                    <button id="quit-to-menu" class="btn btn-danger">
                        üè† –í –ú–ï–ù–Æ
                    </button>
                </div>
            </div>
        </div>

        <!-- –≠–∫—Ä–∞–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ -->
        <div id="results-screen" class="screen">
            <div class="results-background">
                <div class="confetti"></div>
                <div class="confetti"></div>
                <div class="confetti"></div>
            </div>
            
            <div class="results-container">
                <div class="results-header">
                    <div class="trophy">üèÜ</div>
                    <h2>–§–ï–†–ú–ê –°–ü–ê–°–ï–ù–ê!</h2>
                    <p>–¢—ã –Ω–∞—Å—Ç–æ—è—â–∏–π –≥–µ—Ä–æ–π!</p>
                </div>

                <div class="results-stats">
                    <div class="result-item">
                        <span class="result-label">–ü—Ä–æ–π–¥–µ–Ω–æ —ç—Ç–∞–ø–æ–≤:</span>
                        <span class="result-value" id="final-stages">0/13</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">–ù–∞–±—Ä–∞–Ω–æ –æ—á–∫–æ–≤:</span>
                        <span class="result-value" id="final-score">0</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">–ü–æ—Ç—Ä–∞—á–µ–Ω–æ –≤—Ä–µ–º–µ–Ω–∏:</span>
                        <span class="result-value" id="final-time">0:00</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">–†–µ–π—Ç–∏–Ω–≥:</span>
                        <span class="result-value" id="final-rating">–ù–û–í–ò–ß–û–ö</span>
                    </div>
                </div>

                <div class="achievements-earned">
                    <h3>üéØ –ü–æ–ª—É—á–µ–Ω–Ω—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è:</h3>
                    <div id="achievements-list" class="achievements-grid">
                        <!-- –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è –±—É–¥—É—Ç –∑–¥–µ—Å—å -->
                    </div>
                </div>

                <div class="results-buttons">
                    <button id="play-again" class="btn btn-primary btn-large">
                        üéÆ –ò–ì–†–ê–¢–¨ –°–ù–û–í–ê
                    </button>
                    <div class="results-share">
                        <button id="share-result" class="btn btn-outline">
                            üì§ –ü–û–î–ï–õ–ò–¢–¨–°–Ø
                        </button>
                        <button id="save-result" class="btn btn-outline">
                            üíæ –°–û–•–†–ê–ù–ò–¢–¨
                        </button>
                    </div>
                    <button id="back-to-menu-from-results" class="btn btn-outline">
                        üè† –ì–õ–ê–í–ù–û–ï –ú–ï–ù–Æ
                    </button>
                </div>
            </div>
        </div>

        <!-- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ -->
        <div id="hint-modal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞</h3>
                    <button class="modal-close">&times;</button>
                </div>
                <div class="modal-body">
                    <p id="hint-text">–ó–¥–µ—Å—å –±—É–¥–µ—Ç —Ç–µ–∫—Å—Ç –ø–æ–¥—Å–∫–∞–∑–∫–∏...</p>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-primary" id="use-hint">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫—É</button>
                </div>
            </div>
        </div>

        <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
        <div id="notification" class="notification hidden">
            <span id="notification-text"></span>
        </div>
    </div>

    <!-- –ó–≤—É–∫–æ–≤—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã -->
    <audio id="click-sound" preload="auto">
        <source src="assets/sounds/click.mp3" type="audio/mpeg">
    </audio>
    <audio id="success-sound" preload="auto">
        <source src="assets/sounds/success.mp3" type="audio/mpeg">
    </audio>
    <audio id="error-sound" preload="auto">
        <source src="assets/sounds/error.mp3" type="audio/mpeg">
    </audio>

    <script src="app.js"></script>
</body>
</html>
